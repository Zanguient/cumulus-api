#! /usr/bin/env node
'use strict';

const program = require('commander');
const dynamo = require('../lib/aws/dynamo');

// the CLI activation
program
  .usage('COMMAND [options]')
  .option('-t, --table <table>', 'DynamoDB table name')
  .option('-r, --record <record>', 'Path to a JSON file containing the record to be added')
  .option('-l, --local', 'Whether to add the record to a local dynamoDB running on port 8000')
  .option('-p, --profile <profile>', 'AWS profile name to use for authentication')
  .option('--region <region>', 'AWS region defaults us-east-1')
  .option('-c, --config <config>', 'Path to config file');

program
  .command('add')
  .description('Add given record to DynamoDB')
  .action(dynamo.addRecord.bind(null, program));

program
  .parse(process.argv);
