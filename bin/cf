#! /usr/bin/env node
'use strict';

const program = require('commander');
const cf = require('../aws/cf');

// the CLI activation
program
  .usage('COMMAND [options]')
  .option('-p, --profile <profile>', 'AWS profile name to use for authentication')
  .option('-r, --region', 'AWS region');

program
  .command('compile')
  .description('Compiles the CF stack')
  .action(cf.compileCF.bind(null, program));

program
  .command('validate')
  .description('Validates the CF stack')
  .action(cf.validateTemplate.bind(null, program));

program
  .command('create')
  .description('Creates the CF stack')
  .action(cf.createStack.bind(null, program));

program
  .command('update')
  .description('Updates the CF stack')
  .action(cf.updateStack.bind(null, program));

program
  .parse(process.argv);
